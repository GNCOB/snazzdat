!!!
%html
  %head
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}
      %title= content_for?(:title) ? yield(:title) : "Snazzdat"
      %meta{:content => content_for?(:description) ? yield(:description) : "Snazzdat", :name => "description"}
        = stylesheet_link_tag "application", :media => "all"
        = javascript_include_tag "application"
        = csrf_meta_tags
        = yield(:head)
  %body{:class => "#{controller_name} #{action_name}"}
    = render 'layouts/navigation'

    #main{:role => "main"}
      .container
        .row
          .col-sm-12
            = render 'layouts/messages'
            = yield
        %footer
      / ! end of .container
    / ! end of #main
    #geolocate_error

:javascript
  $(function(){
    var current_location = #{@current_location.nil? ? 'undefined' : @current_location.to_json};
    if(current_location === undefined) {
      getUserLocation();
    }
     else {

    }
  });