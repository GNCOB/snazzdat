= simple_form_for [current_user, @appointment], class: 'form-horizontal' do |f|
  .text-danger= f.error_notification

  %h4=@partner.name
  %p
    =@partner.address1
    %br/
    =@partner.address2
    %br/
    =@partner.city
    ,
    =@partner.state
    =@partner.zip_code
  .form-group.row
    .col-md-2.col-xs-12
      Date
    .col-md-10.col-xs-12
      =date_select('appointment', 'date', {start_year: Time.now.year})
  .form-group.row
    .col-md-2.col-xs-12
      Time
    .col-md-10.col-xs-12
      =time_select('appointment', 'date', {minute_step: 30, ampm: true, ignore_date: true})
  .form-group.has-error
    .col-xs-12
      =f.error(:date)
  =f.input :budget, label: 'What\'s your budget', collection: BudgetConstants::ALL.map{|b|[b[:name], b[:code]]}
  %h3 What would you like us to pick out for you?
  .form-group.row
    .col-xs-12
      =f.collection_check_boxes :appointment_item_type_codes, ItemTypeConstants::ALL.map{|type|[type[:code], type[:name]]}, :first, :last, {item_wrapper_class:'checkbox'}
  -ItemTypeConstants::ALL.each do |item_type|
    .well
      .form-group.row
        .col-md-2.col-xs-12
          ="#{item_type[:name]} Style:"
        .col-md-10.col-xs-12
          =collection_select :appointment_item, :item_type_codes, item_type[:types].map{|type| [type.gsub(' ','').downcase, type] }, :first, :last
      -if item_type[:sizes].present?
        .form-group.row
          .col-md-2.col-xs-12
            ="#{item_type[:name]} Size Options:"
          .col-md-1-.col-xs-12
            =collection_select :appointment_item, :item_type_codes, item_type[:sizes].map{|size| [size.gsub(' ','').downcase, size] }, :first, :last
    %hr/

  =f.input :notes, label: 'Additional Notes', as: :text, input_html: {maxlength: '250'}, hint: 'Please add any additional details for the stylist; ex: preferred colors, style, etc. (250 character limit)'
  =f.input :phone_number, label: 'Phone number you\'d like to be reached on', as: :tel
  .form-actions
    =hidden_field_tag :partner_id, @partner.id
    =f.button :submit, class: 'btn btn-default'